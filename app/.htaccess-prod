
RewriteEngine On

Options -Indexes

# # # # # # # # # # # # # # # # # 
# http to https
# # # # # # # # # # # # # # # # # 

# RewriteCond %{HTTPS} !on
# RewriteCond %{HTTP_HOST} !^chefsmenu\.ru [NC]
# RewriteRule ^ https://%{HTTP_HOST}%{REQUEST_URI} [R,L]

RewriteBase /

AddHandler cgi-script .py

ErrorDocument 404 /404
ErrorDocument 403 /404

RewriteRule ^loader.js$  /loader.php   [R=301,L]

<files *.json>
SetOutputFilter DEFLATE
</files>

# # # # # # # # # # # # # # # # # 
# - remove last slash
# - rewrite only if no exist the folder 
# it was need for router
# # # # # # # # # # # # # # # # #

#RewriteCond %{REQUEST_FILENAME} !-d
#RewriteRule ^(.*)/$ $1 [R=301,L]


# # # # # # # # # # # # # # # # #
# - all url go to index.php
# - rewrite only if no exist 
# such image or folder or file or favicon 
# # # # # # # # # # # # # # # # #

RewriteCond %{REQUEST_URI} !(\.png|\.jpg|\.svg\.ico\.gif)$ [NC]
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !favicon.ico
#RewriteRule ^(.*)$ index.php [L,QSA]
RewriteRule ^(.*)$ / [L,QSA]

